from configuration.models import *
from django.contrib import admin
from django.utils.translation import ugettext_lazy as _

class CompanyAdmin(admin.ModelAdmin):
	list_display = ['abbreviation', 'name', 'place', 'address', 'description']
        list_display_links = ['abbreviation']
	list_select_related = True

class ProjectAdmin(admin.ModelAdmin):
        fieldsets = (
                  (None, {
                  'fields': ('company', 'name', 'code', 'abbreviation',
                  ('start_date', 'end_date'))
                  }),
                  (_('Description'), {
                  'classes': 'collapse',
                  'fields': ('description', )
                  }),
                  )
        list_display = ['abbreviation', 'name', 'company', 'start_date', 'end_date', 'hours_amount', 'hours_to_be_planned', 'hours_to_be_reported', 'number_of_nonclosed_activities']
        list_display_links = ['abbreviation', 'name']
        list_filter = ['company']
        list_select_related = True
class ProjectActivityAdmin(admin.ModelAdmin):

        fieldsets = (
                  (None, {
                  'fields': (
                  ('name', 'project'),
                  'description',
                  'owner',
                  ('hours_amount', 'due_date', ),
                  'status',
                  )
                  }),
                  )
        list_display = [
                'project_abbreviation',
                'name',
                'description',
                'status',
                'due_date',
                'hours_summary',
                'owner',
        ]
        list_filter = ['project', 'owner'] 
        list_display_links = ['name']
        search_fields = ['name', 'project__name', 'project__abbreviation', 'description']
        list_select_related = True

class UserProjectAdmin(admin.ModelAdmin):
        list_display = ('project', 'user', 'hours_planned', 'hours_reported')
        list_filter = ['project', 'user']


admin.site.register(Company, CompanyAdmin)
admin.site.register(Project, ProjectAdmin)
admin.site.register(ProjectActivity, ProjectActivityAdmin)
admin.site.register(UserProject, UserProjectAdmin)
admin.site.register(Area)
admin.site.register(UserProfile)
admin.site.register(Place)
admin.site.register(ProjectColor)
